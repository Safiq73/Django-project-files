{% extends 'base.html' %}

{% block title %}Blog{% endblock title %}
{% block body %}
{% load static %}
<div class="container mt-4">
  <div class="row my-2">
    {% for item in blog %}    
  <div class="col-md-6">
    <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
      <div class="col p-4 d-flex flex-column position-static">
        <strong class="d-inline-block mb-2 text-primary">{{item.author}}</strong>
        <h3 class="mb-0">{{item.title}}</h3>
        <div class="mb-1 text-muted">{{item.TimeStamp}}</div>
        <div class="">
        <p class="card-text mb-auto preview">{{item.content|truncatechars:115|safe}}p>
        </div>
        <a href="{{item.slug}}" class="stretched-link">Continue reading</a>
      </div>
      <div class="col-auto d-none d-lg-block">
        <img class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false" src="/media/{{item.thumbnail}}">
      </div>
    </div>     
  </div>
  {% if forloop.counter|divisibleby:2 %}
</div><div class="row my-2">
  {% endif %}
  {% endfor %}

{% endblock body %}

{% block js %}
<script>
  let prev=document.getElementsByClassName('preview')
  console.log(prev)
  Array.from(prev).forEach((element)=>{
    element.innerHTML=element.innerText
  })
</script>

{% endblock js %}